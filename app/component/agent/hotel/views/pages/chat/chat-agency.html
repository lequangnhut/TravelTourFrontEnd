<div class="content">
    <div class="chat d-flex phoenix-offcanvas-container pt-1 mt-n1 mb-9">
        <div class="card p-3 p-xl-1 mt-xl-n1 chat-sidebar me-3 phoenix-offcanvas phoenix-offcanvas-start"
             id="chat-sidebar">
            <button class="btn d-none d-sm-block d-xl-none mb-2" data-bs-toggle="modal"
                    data-bs-target="#chatSearchBoxModal"><span
                    class="fa-solid fa-magnifying-glass text-600 fs-1"></span></button>
            <div class="form-icon-container mb-4 d-sm-none d-xl-block"><input class="form-control form-icon-input"
                                                                              type="text" placeholder="Tìm kiếm"/><span
                    class="fas fa-user text-900 fs--1 form-icon"></span></div>
            <ul class="nav nav-phoenix-pills mb-5 d-sm-none d-xl-flex" id="contactListTab"
                data-chat-thread-tab="data-chat-thread-tab" role="tablist">
                <li class="nav-item" role="presentation"><a class="nav-link cursor-pointer active" data-bs-toggle="tab"
                                                            data-chat-thread-list="all" role="tab" aria-selected="true">Tất
                    cả</a></li>
                <li class="nav-item" role="presentation"><a class="nav-link cursor-pointer" data-bs-toggle="tab"
                                                            role="tab" data-chat-thread-list="read"
                                                            aria-selected="false">Đã xem</a></li>
                <li class="nav-item" role="presentation"><a class="nav-link cursor-pointer" data-bs-toggle="tab"
                                                            role="tab" data-chat-thread-list="unread"
                                                            aria-selected="false">Chưa xem</a></li>
            </ul>
            <div class="scrollbar">
                <div class="tab-content" id="contactListTabContent">
                    <div data-chat-thread-tab-content="data-chat-thread-tab-content">
                        <ul class="nav chat-thread-tab flex-column list">
                            <li class="nav-item unread" role="presentation" ng-repeat="userChat in userChatsList">
                                <a class="nav-link d-flex align-items-center justify-content-center p-2 unread"
                                   data-bs-toggle="tab" data-chat-thread="data-chat-thread" href="#tab-thread-4"
                                   role="tab" aria-selected="true" ng-click="updateStatusMessengerAgency(userChat)">
                                    <div class="avatar avatar-xl position-relative me-2 me-sm-0 me-xl-2"
                                         ng-class="{'status-online': userChat.status === 'ONLINE'}">
                                        <img class="rounded-circle border border-2 border-white"
                                             ng-src="{{userChat.avatar}}"
                                             alt="" onerror="this.src='assets/customers/images/icon/user.png'"/>
                                        <span class="bg-primary rounded-circle top-0 end-0 position-absolute text-white d-flex flex-center fs--2 fw-semi-bold d-none d-sm-flex d-xl-none lh-1"
                                              style="height: 1rem; width: 1rem;"></span>
                                    </div>
                                    <div class="flex-1 d-sm-none d-xl-block">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <h5 class=" fw-normal name text-nowrap" ng-bind="userChat.fullName"></h5>
                                            <p class="fs--2 text-600 mb-0 text-nowrap" ng-bind="userChat.timeMessage | formatHoursRight"></p>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <p class="fs--1 text-600 mb-0 text-nowrap" ng-class="{'message': userChat.statusMessage === true}" ng-bind="userChat.newMessage" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 200px;"></p>
                                            <span class="badge badge-phoenix badge-phoenix-primary px-1 unread-badge" ng-show="userChat.statusMessage === true" ng-bind="userChat.countMessageUnread"></span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="chat-content tab-content flex-1">
            <div class="tab-pane h-100 fade active show" id="tab-thread-1" role="tabpanel"
                 aria-labelledby="tab-thread-1">
                <div class="card flex-1 h-100 phoenix-offcanvas-container">
                    <div class="card-header p-3 p-md-4 d-flex flex-between-center">
                        <div class="d-flex align-items-center">
                            <button class="btn ps-0 pe-2 text-700 d-sm-none" data-phoenix-toggle="offcanvas"
                                    data-phoenix-target="#chat-sidebar"><span class="fa-solid fa-chevron-left"></span>
                            </button>
                            <div class="d-flex flex-column flex-md-row align-items-md-center">
                                <button class="btn fs-1 fw-semi-bold text-1100 d-flex align-items-center p-0 me-3 text-start"
                                        data-phoenix-toggle="offcanvas" data-phoenix-target="#thread-details-0"><span
                                        class="line-clamp-1" ng-bind="userActive.fullName"></span><span
                                        class="fa-solid fa-chevron-down ms-2 fs--2"></span></button>
                                <p class="fs--1 mb-0 me-2" ng-if="userActive.status === 'ONLINE'"><span ng-show="userActive.status === 'ONLINE'"
                                                                 class="fa-solid fa-circle text-success fs--3 me-2"></span> Đang hoạt động</p>
                                <p class="fs--1 mb-0 me-2" ng-if="userActive.status !== 'ONLINE'" ng-bind="userActive.lastUpdated | statusOnlineUser"></p>
                            </div>
                        </div>
                        <div class="d-flex">
                            <button class="btn btn-icon btn-primary me-1"><span class="fa-solid fa-phone"></span>
                            </button>
                            <button class="btn btn-icon btn-primary me-1"><span class="fa-solid fa-video"></span>
                            </button>
                            <button class="btn btn-icon btn-phoenix-primary" type="button" data-bs-toggle="dropdown"
                                    data-boundary="window" aria-haspopup="true" aria-expanded="false"
                                    data-bs-reference="parent"><span class="fa-solid fa-ellipsis-vertical"></span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end p-0">
                                <li><a class="dropdown-item" href="#!">Add to favourites</a></li>
                                <li><a class="dropdown-item" href="#!">View profile</a></li>
                                <li><a class="dropdown-item" href="#!">Report</a></li>
                                <li><a class="dropdown-item" href="#!">Manage notifications</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="card-body p-3 p-sm-4 scrollbar" id="chatMessages">
                        <div  ng-repeat="messages in displayMessages">
                            <div class="d-flex chat-message" ng-show="messages.senderId.toString() !== userAgencyId.id.toString()">
                                <div class="d-flex mb-2 flex-1">
                                    <div class="w-100 w-xxl-75">
                                        <div class="d-flex hover-actions-trigger">
                                            <div class="avatar avatar-m me-3 flex-shrink-0">
                                                <img class="rounded-circle" ng-src="{{userActive.avatar}}" alt=""
                                                     onerror="this.src='assets/customers/images/icon/user.png'"></div>
                                            <div class="chat-message-content received me-2">
                                                <div class="mb-1 received-message-content border rounded-2 p-3">
                                                    <p class="mb-0" ng-bind="messages.content"></p>
                                                </div>
                                            </div>
                                            <div class="d-none d-sm-flex">
                                                <div class="hover-actions position-relative align-self-center me-2"><button class="btn p-2 fs--2"><svg class="svg-inline--fa fa-reply" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="reply" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"></path></svg><!-- <span class="fa-solid fa-reply"></span> Font Awesome fontawesome.com --></button><button class="btn p-2 fs--2"><svg class="svg-inline--fa fa-trash" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"></path></svg><!-- <span class="fa-solid fa-trash"></span> Font Awesome fontawesome.com --></button><button class="btn p-2 fs--2"><svg class="svg-inline--fa fa-share" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="share" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M503.7 226.2l-176 151.1c-15.38 13.3-39.69 2.545-39.69-18.16V272.1C132.9 274.3 66.06 312.8 111.4 457.8c5.031 16.09-14.41 28.56-28.06 18.62C39.59 444.6 0 383.8 0 322.3c0-152.2 127.4-184.4 288-186.3V56.02c0-20.67 24.28-31.46 39.69-18.16l176 151.1C514.8 199.4 514.8 216.6 503.7 226.2z"></path></svg><!-- <span class="fa-solid fa-share"></span> Font Awesome fontawesome.com --></button><button class="btn p-2 fs--2"><svg class="svg-inline--fa fa-face-smile" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-smile" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM164.1 325.5C158.3 318.8 148.2 318.1 141.5 323.9C134.8 329.7 134.1 339.8 139.9 346.5C162.1 372.1 200.9 400 255.1 400C311.1 400 349.8 372.1 372.1 346.5C377.9 339.8 377.2 329.7 370.5 323.9C363.8 318.1 353.7 318.8 347.9 325.5C329.9 346.2 299.4 368 255.1 368C212.6 368 182 346.2 164.1 325.5H164.1zM176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176zM336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240z"></path></svg><!-- <span class="fa-solid fa-face-smile"></span> Font Awesome fontawesome.com --></button></div>
                                            </div>
                                            <div class="d-sm-none hover-actions align-self-center me-2 end-0">
                                                <div class="bg-white rounded-pill d-flex align-items-center border border-300 px-2 actions"><button class="btn p-2" type="button"><svg class="svg-inline--fa fa-reply text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="reply" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"></path></svg><!-- <span class="fa-solid fa-reply text-primary"></span> Font Awesome fontawesome.com --></button><button class="btn p-2" type="button"><svg class="svg-inline--fa fa-trash text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"></path></svg><!-- <span class="fa-solid fa-trash text-primary"></span> Font Awesome fontawesome.com --></button><button class="btn p-2" type="button"><svg class="svg-inline--fa fa-share text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="share" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M503.7 226.2l-176 151.1c-15.38 13.3-39.69 2.545-39.69-18.16V272.1C132.9 274.3 66.06 312.8 111.4 457.8c5.031 16.09-14.41 28.56-28.06 18.62C39.59 444.6 0 383.8 0 322.3c0-152.2 127.4-184.4 288-186.3V56.02c0-20.67 24.28-31.46 39.69-18.16l176 151.1C514.8 199.4 514.8 216.6 503.7 226.2z"></path></svg><!-- <span class="fa-solid fa-share text-primary"></span> Font Awesome fontawesome.com --></button><button class="btn p-2" type="button"><svg class="svg-inline--fa fa-face-smile text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-smile" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM164.1 325.5C158.3 318.8 148.2 318.1 141.5 323.9C134.8 329.7 134.1 339.8 139.9 346.5C162.1 372.1 200.9 400 255.1 400C311.1 400 349.8 372.1 372.1 346.5C377.9 339.8 377.2 329.7 370.5 323.9C363.8 318.1 353.7 318.8 347.9 325.5C329.9 346.2 299.4 368 255.1 368C212.6 368 182 346.2 164.1 325.5H164.1zM176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176zM336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240z"></path></svg><!-- <span class="fa-solid fa-face-smile text-primary"></span> Font Awesome fontawesome.com --></button></div>
                                            </div>
                                        </div>
                                        <p class="mb-0 fs--2 text-600 fw-semi-bold ms-7" ng-bind="messages.timestamp | formatHoursRight"></p>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex chat-message" ng-show="messages.senderId.toString() === userAgencyId.id.toString()">
                                <div class="d-flex mb-2 justify-content-end flex-1">
                                    <div class="w-100 w-xxl-75">
                                        <div class="d-flex flex-end-center hover-actions-trigger">
                                            <div class="d-sm-none hover-actions align-self-center me-2 start-0">
                                                <div class="bg-white rounded-pill d-flex align-items-center border border-300 px-2 actions"><button class="btn p-2" type="button"><svg class="svg-inline--fa fa-reply text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="reply" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"></path></svg><!-- <span class="fa-solid fa-reply text-primary"></span> Font Awesome fontawesome.com --></button><button class="btn p-2" type="button"><svg class="svg-inline--fa fa-pen-to-square text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen-to-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M490.3 40.4C512.2 62.27 512.2 97.73 490.3 119.6L460.3 149.7L362.3 51.72L392.4 21.66C414.3-.2135 449.7-.2135 471.6 21.66L490.3 40.4zM172.4 241.7L339.7 74.34L437.7 172.3L270.3 339.6C264.2 345.8 256.7 350.4 248.4 353.2L159.6 382.8C150.1 385.6 141.5 383.4 135 376.1C128.6 370.5 126.4 361 129.2 352.4L158.8 263.6C161.6 255.3 166.2 247.8 172.4 241.7V241.7zM192 63.1C209.7 63.1 224 78.33 224 95.1C224 113.7 209.7 127.1 192 127.1H96C78.33 127.1 64 142.3 64 159.1V416C64 433.7 78.33 448 96 448H352C369.7 448 384 433.7 384 416V319.1C384 302.3 398.3 287.1 416 287.1C433.7 287.1 448 302.3 448 319.1V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V159.1C0 106.1 42.98 63.1 96 63.1H192z"></path></svg><!-- <span class="fa-solid fa-pen-to-square text-primary"></span> Font Awesome fontawesome.com --></button><button class="btn p-2" type="button"><svg class="svg-inline--fa fa-trash text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"></path></svg><!-- <span class="fa-solid fa-trash text-primary"></span> Font Awesome fontawesome.com --></button><button class="btn p-2" type="button"><svg class="svg-inline--fa fa-share text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="share" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M503.7 226.2l-176 151.1c-15.38 13.3-39.69 2.545-39.69-18.16V272.1C132.9 274.3 66.06 312.8 111.4 457.8c5.031 16.09-14.41 28.56-28.06 18.62C39.59 444.6 0 383.8 0 322.3c0-152.2 127.4-184.4 288-186.3V56.02c0-20.67 24.28-31.46 39.69-18.16l176 151.1C514.8 199.4 514.8 216.6 503.7 226.2z"></path></svg><!-- <span class="fa-solid fa-share text-primary"></span> Font Awesome fontawesome.com --></button><button class="btn p-2" type="button"><svg class="svg-inline--fa fa-face-smile text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-smile" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM164.1 325.5C158.3 318.8 148.2 318.1 141.5 323.9C134.8 329.7 134.1 339.8 139.9 346.5C162.1 372.1 200.9 400 255.1 400C311.1 400 349.8 372.1 372.1 346.5C377.9 339.8 377.2 329.7 370.5 323.9C363.8 318.1 353.7 318.8 347.9 325.5C329.9 346.2 299.4 368 255.1 368C212.6 368 182 346.2 164.1 325.5H164.1zM176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176zM336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240z"></path></svg><!-- <span class="fa-solid fa-face-smile text-primary"></span> Font Awesome fontawesome.com --></button></div>
                                            </div>
                                            <div class="d-none d-sm-flex">
                                                <div class="hover-actions position-relative align-self-center"><button class="btn p-2 fs--2"><svg class="svg-inline--fa fa-reply text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="reply" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M8.31 189.9l176-151.1c15.41-13.3 39.69-2.509 39.69 18.16v80.05C384.6 137.9 512 170.1 512 322.3c0 61.44-39.59 122.3-83.34 154.1c-13.66 9.938-33.09-2.531-28.06-18.62c45.34-145-21.5-183.5-176.6-185.8v87.92c0 20.7-24.31 31.45-39.69 18.16l-176-151.1C-2.753 216.6-2.784 199.4 8.31 189.9z"></path></svg><!-- <span class="fa-solid fa-reply text-primary"></span> Font Awesome fontawesome.com --></button><button class="btn p-2 fs--2"><svg class="svg-inline--fa fa-pen-to-square text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen-to-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M490.3 40.4C512.2 62.27 512.2 97.73 490.3 119.6L460.3 149.7L362.3 51.72L392.4 21.66C414.3-.2135 449.7-.2135 471.6 21.66L490.3 40.4zM172.4 241.7L339.7 74.34L437.7 172.3L270.3 339.6C264.2 345.8 256.7 350.4 248.4 353.2L159.6 382.8C150.1 385.6 141.5 383.4 135 376.1C128.6 370.5 126.4 361 129.2 352.4L158.8 263.6C161.6 255.3 166.2 247.8 172.4 241.7V241.7zM192 63.1C209.7 63.1 224 78.33 224 95.1C224 113.7 209.7 127.1 192 127.1H96C78.33 127.1 64 142.3 64 159.1V416C64 433.7 78.33 448 96 448H352C369.7 448 384 433.7 384 416V319.1C384 302.3 398.3 287.1 416 287.1C433.7 287.1 448 302.3 448 319.1V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V159.1C0 106.1 42.98 63.1 96 63.1H192z"></path></svg><!-- <span class="fa-solid fa-pen-to-square text-primary"></span> Font Awesome fontawesome.com --></button><button class="btn p-2 fs--2"><svg class="svg-inline--fa fa-share text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="share" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M503.7 226.2l-176 151.1c-15.38 13.3-39.69 2.545-39.69-18.16V272.1C132.9 274.3 66.06 312.8 111.4 457.8c5.031 16.09-14.41 28.56-28.06 18.62C39.59 444.6 0 383.8 0 322.3c0-152.2 127.4-184.4 288-186.3V56.02c0-20.67 24.28-31.46 39.69-18.16l176 151.1C514.8 199.4 514.8 216.6 503.7 226.2z"></path></svg><!-- <span class="fa-solid fa-share text-primary"></span> Font Awesome fontawesome.com --></button><button class="btn p-2 fs--2"><svg class="svg-inline--fa fa-trash text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"></path></svg><!-- <span class="fa-solid fa-trash text-primary"></span> Font Awesome fontawesome.com --></button><button class="btn p-2 fs--2"><svg class="svg-inline--fa fa-face-smile text-primary" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-smile" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM164.1 325.5C158.3 318.8 148.2 318.1 141.5 323.9C134.8 329.7 134.1 339.8 139.9 346.5C162.1 372.1 200.9 400 255.1 400C311.1 400 349.8 372.1 372.1 346.5C377.9 339.8 377.2 329.7 370.5 323.9C363.8 318.1 353.7 318.8 347.9 325.5C329.9 346.2 299.4 368 255.1 368C212.6 368 182 346.2 164.1 325.5H164.1zM176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176zM336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240z"></path></svg><!-- <span class="fa-solid fa-face-smile text-primary"></span> Font Awesome fontawesome.com --></button></div>
                                            </div>
                                            <div class="chat-message-content me-2">
                                                <div class="mb-1 sent-message-content light bg-primary rounded-2 p-3 text-white">
                                                    <p class="mb-0" ng-bind="messages.content"></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="text-end">
                                            <p class="mb-0 fs--2 text-600 fw-semi-bold" ng-bind="messages.timestamp | formatHoursLeft"></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer" ng-show="userActive">
                        <div class="chat-textarea outline-none scrollbar mb-1" contenteditable="true"
                             ng-model="messageContent"></div>
                        <div class="d-flex justify-content-between align-items-end">
                            <div>
                                <button class="btn btn-link py-0 ps-0 pe-2 text-900 fs--1 btn-emoji"
                                        data-picmo="data-picmo"><span class="fa-regular fa-face-smile"></span></button>
                                <label class="btn btn-link py-0 px-2 text-900 fs--1" for="chatPhotos-3"><span
                                        class="fa-solid fa-image"></span></label><input class="d-none" type="file"
                                                                                        accept="image/*"
                                                                                        id="chatPhotos-3"/><label
                                    class="btn btn-link py-0 px-2 text-900 fs--1" for="chatAttachment-3"> <span
                                    class="fa-solid fa-paperclip"></span></label><input class="d-none" type="file"
                                                                                        id="chatAttachment-3"/>
                                <button class="btn btn-link py-0 px-2 text-900 fs--1"><span
                                        class="fa-solid fa-microphone"></span></button>
                                <button class="btn btn-link py-0 px-2 text-900 fs--1"><span
                                        class="fa-solid fa-ellipsis"></span></button>
                            </div>
                            <div>
                                <button class="btn btn-primary fs--2" type="button"
                                        ng-click="sendMessageToUser(userActive)">Send<span
                                        class="fa-solid fa-paper-plane ms-1"></span></button>
                            </div>
                        </div>
                    </div>
                    <div class="phoenix-offcanvas phoenix-offcanvas-top h-100 w-100 bg-white scrollbar z-index-0"
                         id="thread-details-3">
                        <div class="border-bottom p-4">
                            <div class="d-flex flex-between-center">
                                <button class="btn p-0" data-phoenix-dismiss="offcanvas"><span
                                        class="fa-solid fa-chevron-left text-700"></span></button>
                                <button class="btn p-0 btn-reveal dropdown-toggle dropdown-caret-none transition-none"
                                        type="button" data-bs-toggle="dropdown" data-boundary="window"
                                        aria-haspopup="true" aria-expanded="false" data-bs-reference="parent"><span
                                        class="fas fa-ellipsis-v text-700"></span></button>
                                <div class="dropdown-menu dropdown-menu-end py-2"><a class="dropdown-item" href="#!">View</a><a
                                        class="dropdown-item" href="#!">Export</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item text-danger" href="#!">Remove</a>
                                </div>
                            </div>
                            <div class="d-flex flex-column align-items-center text-center">
                                <div class="avatar avatar-4xl mb-2"><img
                                        class="rounded-circle border border-2 border-white"
                                        src="https://prium.github.io/phoenix/v1.13.0/assets/img/team/25.webp" alt=""/>
                                </div>
                                <h4 class="fw-semi-bold mb-3">Abshini Thipano</h4>
                                <div class="d-flex">
                                    <button class="btn btn-primary btn-icon fs--2 me-1"><span
                                            class="fas fa-phone"></span></button>
                                    <button class="btn btn-primary btn-icon fs--2 me-1"><span
                                            class="fas fa-video"></span></button>
                                    <button class="btn btn-phoenix-secondary btn-icon fs--2"><span
                                            class="fas fa-search"></span></button>
                                </div>
                            </div>
                        </div>
                        <div class="p-4 px-sm-5 scrollbar">
                            <button class="btn d-block p-0 fw-semi-bold mb-3"><span
                                    class="fa-solid fa-user-pen me-3"></span>Nickname
                            </button>
                            <button class="btn d-block p-0 fw-semi-bold mb-3"><span
                                    class="fa-solid fa-palette me-3"></span>Change Color
                            </button>
                            <button class="btn d-block p-0 fw-semi-bold mb-5"><span
                                    class="fa-solid fa-user-plus me-3"></span>Create Group Chat
                            </button>

                            <div class="mb-5">
                                <div class="d-flex"><span class="fa-solid fa-folder me-3 fs--1"></span>
                                    <div class="flex-1">
                                        <h6 class="fw-semi-bold border-bottom pb-2 mb-0">Shared Files</h6>
                                        <div class="mb-2">
                                            <div class="border-bottom d-flex align-items-center justify-content-between">
                                                <a class="text-decoration-none d-flex align-items-center py-3"
                                                   href="#!">
                                                    <div class="btn-icon btn-icon-lg border border-500 rounded-3 text-500 flex-column me-2">
                                                        <span class="fs-0 mb-1 fa-solid fa-file-zipper"></span>
                                                        <p class="mb-0 fs--2 fw-bold lh-1">zip</p>
                                                    </div>
                                                    <div class="flex-1">
                                                        <h6 class="text-900 line-clamp-1">
                                                            Federico_godarf_design.zip</h6>
                                                        <div class="d-flex align-items-center lh-1">
                                                            <p class="fs--2 mb-0 text-700 fw-semi-bold">53.34 MB</p>
                                                            <span class="fa-solid fa-circle text-500 fs--2"
                                                                  data-fa-transform="shrink-12"></span>
                                                            <p class="fs--2 mb-0 text-700 fw-semi-bold">Dec 8, 2011</p>
                                                        </div>
                                                    </div>
                                                </a>
                                                <button class="btn p-0"><span
                                                        class="fa-regular fa-arrow-alt-circle-down fs-0 text-700"></span>
                                                </button>
                                            </div>
                                            <div class="border-bottom d-flex align-items-center justify-content-between">
                                                <a class="text-decoration-none d-flex align-items-center py-3"
                                                   href="#!">
                                                    <div class="btn-icon btn-icon-lg border border-500 rounded-3 text-500 flex-column me-2">
                                                        <span class="fs-0 mb-1 fa-solid fa-file-code"></span>
                                                        <p class="mb-0 fs--2 fw-bold lh-1">bat</p>
                                                    </div>
                                                    <div class="flex-1">
                                                        <h6 class="text-900 line-clamp-1">Restart_lyf.bat</h6>
                                                        <div class="d-flex align-items-center lh-1">
                                                            <p class="fs--2 mb-0 text-700 fw-semi-bold">11.13 KB</p>
                                                            <span class="fa-solid fa-circle text-500 fs--2"
                                                                  data-fa-transform="shrink-12"></span>
                                                            <p class="fs--2 mb-0 text-700 fw-semi-bold">Dec 2, 2011</p>
                                                        </div>
                                                    </div>
                                                </a>
                                                <button class="btn p-0"><span
                                                        class="fa-regular fa-arrow-alt-circle-down fs-0 text-700"></span>
                                                </button>
                                            </div>
                                            <div class="border-bottom d-flex align-items-center justify-content-between">
                                                <a class="text-decoration-none d-flex align-items-center py-3"
                                                   href="#!">
                                                    <div class="btn-icon btn-icon-lg border border-500 rounded-3 text-500 flex-column me-2">
                                                        <span class="fs-0 mb-1 fa-solid fa-file-lines"></span>
                                                        <p class="mb-0 fs--2 fw-bold lh-1">txt</p>
                                                    </div>
                                                    <div class="flex-1">
                                                        <h6 class="text-900 line-clamp-1">Fake lorem ipsum fr
                                                            fr.txt</h6>
                                                        <div class="d-flex align-items-center lh-1">
                                                            <p class="fs--2 mb-0 text-700 fw-semi-bold">11.13 KB</p>
                                                            <span class="fa-solid fa-circle text-500 fs--2"
                                                                  data-fa-transform="shrink-12"></span>
                                                            <p class="fs--2 mb-0 text-700 fw-semi-bold">Dec 2, 2011</p>
                                                        </div>
                                                    </div>
                                                </a>
                                                <button class="btn p-0"><span
                                                        class="fa-regular fa-arrow-alt-circle-down fs-0 text-700"></span>
                                                </button>
                                            </div>
                                            <div class="border-bottom d-flex align-items-center justify-content-between">
                                                <a class="text-decoration-none d-flex align-items-center py-3"
                                                   href="#!">
                                                    <div class="btn-icon btn-icon-lg border border-500 rounded-3 text-500 flex-column me-2">
                                                        <span class="fs-0 mb-1 fa-solid fa-file-circle-exclamation"></span>
                                                        <p class="mb-0 fs--2 fw-bold lh-1">mad</p>
                                                    </div>
                                                    <div class="flex-1">
                                                        <h6 class="text-900 line-clamp-1">Unsupported file
                                                            format.mad</h6>
                                                        <div class="d-flex align-items-center lh-1">
                                                            <p class="fs--2 mb-0 text-700 fw-semi-bold">11.13 KB</p>
                                                            <span class="fa-solid fa-circle text-500 fs--2"
                                                                  data-fa-transform="shrink-12"></span>
                                                            <p class="fs--2 mb-0 text-700 fw-semi-bold">Dec 2, 2011</p>
                                                        </div>
                                                    </div>
                                                </a>
                                                <button class="btn p-0"><span
                                                        class="fa-regular fa-arrow-alt-circle-down fs-0 text-700"></span>
                                                </button>
                                            </div>
                                        </div>
                                        <a class="btn btn-link fs--2 p-0" href="#!">See 19 more <span
                                                class="fa-solid fa-chevron-down ms-1"></span></a>
                                    </div>
                                </div>
                            </div>
                            <button class="btn d-block p-0 fw-semi-bold mb-3"><span
                                    class="fa-solid fa-bell-slash me-3"></span>Mute Conversation
                            </button>
                            <button class="btn d-block p-0 fw-semi-bold mb-3"><span
                                    class="fa-solid fa-gear me-3"></span>Manage Settings
                            </button>
                            <button class="btn d-block p-0 fw-semi-bold mb-3"><span
                                    class="fa-solid fa-hand-holding-heart me-3"></span>Get help
                            </button>
                            <button class="btn d-block p-0 fw-semi-bold mb-3"><span
                                    class="fa-solid fa-flag me-3"></span>Report Account
                            </button>
                            <button class="btn d-block p-0 fw-semi-bold"><span class="fa-solid fa-ban me-3"></span>Block
                                Account
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="phoenix-offcanvas-backdrop d-lg-none" data-phoenix-backdrop="data-phoenix-backdrop"
             style="top: 0;"></div>
        <div class="modal fade" id="chatSearchBoxModal" tabindex="-1" aria-hidden="true" data-bs-backdrop="true"
             data-phoenix-modal="data-phoenix-modal" style="--phoenix-backdrop-opacity: 1;">
            <div class="modal-dialog">
                <div class="modal-content mt-15">
                    <div class="modal-body p-0">
                        <div class="chat-search-box">
                            <div class="form-icon-container"><input class="form-control py-3 form-icon-input rounded-1"
                                                                    type="text" autofocus="autofocus"
                                                                    placeholder="Search People, Groups and Messages"/><span
                                    class="fa-solid fa-magnifying-glass fs--1 form-icon"></span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>